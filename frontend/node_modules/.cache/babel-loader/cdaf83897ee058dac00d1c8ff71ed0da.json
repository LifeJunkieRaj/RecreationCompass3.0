{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/fullstackjunkie/FullStackJunkieEngine/PortfolioProject/Recreation_Compass_3.0/frontend/src/Components/BeachesAndParksList.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useContext } from 'react';\nimport RecreationCompass from \"../apis/RecreationCompass\";\nimport { BeachesAndParksContext } from \"../ContextAPI/BeachesAndParksContext\";\nimport { useHistory } from \"react-router-dom\";\nimport StarRating from './StarRating';\n\nconst BeachesAndParksList = props => {\n  _s();\n\n  const {\n    baps,\n    setBaps\n  } = useContext(BeachesAndParksContext);\n  let history = useHistory();\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await RecreationCompass.get(\"/\");\n        console.log(response.data);\n        setBaps(response.data);\n      } catch (err) {}\n    };\n\n    fetchData();\n  }, [setBaps]);\n\n  const handleDelete = async (e, id) => {\n    e.stopPropagation();\n\n    try {\n      const response = await RecreationCompass.delete(`/${id}`);\n      setBaps(baps.filter(beachandpark => {\n        return beachandpark.id !== id;\n      }));\n      console.log(response);\n    } catch (err) {}\n  };\n\n  const handleUpdate = async (e, id) => {\n    e.stopPropagation();\n    history.push(`/baps/${id}/update`);\n  };\n\n  const handleBeachesAndParksSelect = id => {\n    history.push(`/baps/${id}`);\n  };\n\n  const renderRating = beachandpark => {\n    if (!beachandpark.count) {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-warning\",\n        children: \"0 reviews\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(StarRating, {\n        rating: beachandpark.average\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"test-warning ml - 1\",\n        children: [\"(\", beachandpark.count, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"list-group beachesAndParksList\",\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table table-hover table-striped bg-white\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"bg-primary\",\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Beach and/or Park\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Beach\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Park\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Ratings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: baps && baps.map(beachandpark => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            onClick: () => handleBeachesAndParksSelect(beachandpark.id),\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: beachandpark.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: beachandpark.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: beachandpark.ifBeach ? \"Yes\" : \"No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: beachandpark.ifPark ? \"Yes\" : \"No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: renderRating(beachandpark)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: e => handleUpdate(e, beachandpark.id),\n                className: \"btn btn-warning\",\n                children: \"Update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 34\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: e => handleDelete(e, beachandpark.id),\n                className: \"btn btn-danger\",\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 34\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 30\n            }, this)]\n          }, beachandpark.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 26\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n\n_s(BeachesAndParksList, \"F20PMd0NKtzrmYNST9WZ7OiuWGY=\", false, function () {\n  return [useHistory];\n});\n\n_c = BeachesAndParksList;\nexport default BeachesAndParksList;\n\nvar _c;\n\n$RefreshReg$(_c, \"BeachesAndParksList\");","map":{"version":3,"sources":["/home/fullstackjunkie/FullStackJunkieEngine/PortfolioProject/Recreation_Compass_3.0/frontend/src/Components/BeachesAndParksList.jsx"],"names":["React","useEffect","useContext","RecreationCompass","BeachesAndParksContext","useHistory","StarRating","BeachesAndParksList","props","baps","setBaps","history","fetchData","response","get","console","log","data","err","handleDelete","e","id","stopPropagation","delete","filter","beachandpark","handleUpdate","push","handleBeachesAndParksSelect","renderRating","count","average","map","name","location","ifBeach","ifPark"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext } from 'react';\nimport RecreationCompass from \"../apis/RecreationCompass\";\nimport { BeachesAndParksContext } from \"../ContextAPI/BeachesAndParksContext\";\nimport { useHistory } from \"react-router-dom\";\nimport StarRating from './StarRating';\n\n\n\nconst BeachesAndParksList = (props) => {\n    const { baps, setBaps } = useContext(BeachesAndParksContext);\n    let history = useHistory()\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const response = await RecreationCompass.get(\"/\");\n                console.log(response.data)\n                setBaps(response.data)\n            } catch (err) {}\n        }\n\n        fetchData()\n    },[setBaps])\n\n    const handleDelete = async (e, id) => {\n        e.stopPropagation()\n        try {\n            const response = await RecreationCompass.delete(`/${id}`)\n            setBaps(baps.filter(beachandpark => {\n                return beachandpark.id !== id\n            }))\n            console.log(response)\n        } catch (err) {\n\n        }\n    }\n\n    const handleUpdate = async (e, id) => {\n        e.stopPropagation()\n        history.push(`/baps/${id}/update`);\n    }\n\n    const handleBeachesAndParksSelect = (id) => {\n        history.push(`/baps/${id}`);\n    }\n\n    const renderRating = (beachandpark) => {\n        if (!beachandpark.count) {\n            return <span className=\"text-warning\">0 reviews</span>\n        }\n        return <>\n        <StarRating rating={beachandpark.average}/>\n        <span className=\"test-warning ml - 1\">({beachandpark.count})</span>\n        </>\n    }\n\n    return (\n        <div className=\"list-group beachesAndParksList\">\n            <table className=\"table table-hover table-striped bg-white\">\n               <thead>\n                 <tr className=\"bg-primary\">\n                     <th scope=\"col\">Beach and/or Park</th>\n                     <th scope=\"col\">Location</th>\n                     <th scope=\"col\">Beach</th>\n                     <th scope=\"col\">Park</th>\n                     <th scope=\"col\">Ratings</th>\n                     <th scope=\"col\">Edit</th>\n                     <th scope=\"col\">Delete</th>\n                 </tr>  \n               </thead>\n               <tbody>\n                   {baps && baps.map((beachandpark) => {\n                       return (\n                         <tr onClick={() => handleBeachesAndParksSelect(beachandpark.id)} key={beachandpark.id}>\n                             <td>{beachandpark.name}</td>\n                             <td>{beachandpark.location}</td>\n                             <td>{(beachandpark.ifBeach)? \"Yes\": \"No\"}</td>\n                             <td>{(beachandpark.ifPark)? \"Yes\": \"No\"}</td>\n                             <td>{renderRating(beachandpark)}</td>\n                             <td><button onClick={(e) => handleUpdate(e, beachandpark.id)} className=\"btn btn-warning\">Update</button></td>\n                             <td><button onClick={(e) => handleDelete(e, beachandpark.id)} className=\"btn btn-danger\">Delete</button></td>\n                         </tr>\n                       );\n                   })}\n               </tbody> \n            </table>\n        </div>\n    )\n}\n\nexport default BeachesAndParksList\n"]},"metadata":{},"sourceType":"module"}